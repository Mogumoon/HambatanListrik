<!DOCTYPE html>
<html lang="id" data-bs-theme="light">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1,user-scalable=no" />
  <title>Kelompok</title>
  <!-- Bootstrap CSS CDN -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link rel="icon" href="https://i.pinimg.com/originals/4a/1f/51/4a1f510ad52900fb27726aaf408707f3.jpg" type="image/x-icon" />
  <meta name="description" content="Website untuk menghitung hambatan listrik" />
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: #f5f7fa;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      transition: background-color 0.3s ease, color 0.3s ease;
    }
    
    /* Dark mode styles */
    [data-bs-theme="dark"] body {
      background: #121212;
      color: #f5f5f5;
    }
    
    [data-bs-theme="dark"] .member-card {
      background: #2d2d2d;
      box-shadow: 0 8px 20px rgba(0,0,0,0.25);
    }
    
    [data-bs-theme="dark"] .member-name {
      color: #e0e0e0;
    }
    
    [data-bs-theme="dark"] .member-role {
      color: #b0b0b0;
    }
    
    header {
      color: white;
    }
    header h1 {
      font-weight: 700;
      font-size: 2.5rem;
      margin-bottom: 0.5rem;
    }
    header p {
      font-size: 1.2rem;
      font-weight: 500;
      opacity: 0.9;
    }
    .members-section {
      flex-grow: 1;
      padding: 3rem 1rem 3rem;
      max-width: 960px;
      margin: auto;
      width: 100%;
    }
    .member-card {
      background: white;
      border-radius: 1rem;
      padding: 2rem 1.5rem;
      box-shadow: 0 8px 20px rgba(0,0,0,0.1);
      transition: transform 0.3s ease, box-shadow 0.3s ease, background-color 0.3s ease;
      text-align: center;
    }
    .member-card:hover {
      transform: translateY(-8px);
      box-shadow: 0 16px 40px rgba(0,0,0,0.15);
    }
    .member-img {
      width: 120px;
      height: 120px;
      object-fit: cover;
      border-radius: 50%;
      margin-bottom: 1rem;
      border: 5px solid rgb(28, 27, 27);
      background-color: #e1eaff;
    }
    .member-name {
      font-size: 1.3rem;
      font-weight: 700;
      color: #333;
      transition: color 0.3s ease;
    }
    .member-role {
      font-size: 1rem;
      color: #666;
      margin-top: 0.25rem;
      transition: color 0.3s ease;
    }
    footer {
      background: rgb(28, 27, 27);
      color: #aaa;
      text-align: center;
      padding: 0.5rem 0.5rem;
      font-size: 0.9rem;
      margin-top: auto;
    }
    
    /* Theme toggle button */
    .theme-toggle-btn {
      cursor: pointer;
      padding: 5px 10px;
      border-radius: 30px;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      gap: 5px;
    }
    
.content-container {
  max-width: 600px;
  width: 100%;
  padding: 25px;
  border-radius: 12px;
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.08);
  margin: 2rem auto;
  background-color: #fff;
  transition: background-color 0.3s ease, color 0.3s ease;
}

/* Tambahkan dukungan untuk dark mode */
[data-bs-theme="dark"] .content-container {
  background-color: #1e1e1e;
  color: #f0f0f0;
  box-shadow: 0 10px 25px rgba(255, 255, 255, 0.05);
}
  </style>
</head>

<body>
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark w-100">
    <div class="container">
      <a class="navbar-brand" href="index.html">FISDAS</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link" aria-current="page" href="index.html">Home</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="about.html">Kelompok</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="hitung.html">Hitung</a>
          </li>
        </ul>
        <ul class="navbar-nav ms-auto">
          <li class="nav-item">
              <button id="theme-toggle" class="btn text-light theme-toggle-btn">
                  <svg id="sun-icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-sun-fill" viewBox="0 0 16 16">
                      <path d="M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"/>
                  </svg>
                  <svg id="moon-icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-moon-fill d-none" viewBox="0 0 16 16">
                      <path d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"/>
                  </svg>
                  <span id="theme-text">Dark Mode</span>
              </button>
      </div>
    </div>
  </nav>

  <div class="content-container">
    <h1>Rumus Hambatan Arus Listrik AC</h1>
    <div class="mb-4">
      <label for="jenis" class="form-label fw-semibold">Pilih Jenis Perhitungan:</label>
      <select id="jenis" class="form-select">
        <option value="hambatan">Hambatan (R)</option>
        <option value="reaktansi_induktif">Reaktansi Induktif (XL)</option>
        <option value="reaktansi_kapasitif">Reaktansi Kapasitif (XC)</option>
        <option value="impedansi">Impedansi Total (Z)</option>
        <option value="sudut_fase">Sudut Fase (φ)</option>
        <option value="arus_maksimum">Arus Maksimum (Imax)</option>
        <option value="arus_efektif">Arus Efektif (Irms)</option>
        <option value="daya">Daya Listrik AC (P, Q, S)</option>
        <option value="visualisasi">Visualisasi Gelombang Arus AC (Grafik)</option>
      </select>
    </div>

    <form id="calcForm">
      <div id="inputFields"></div>
      <button type="submit" class="btn btn-primary mt-3 w-100"  >Hitung</button>
    </form>

    <div id="result" aria-live="polite"></div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script>
    const jenisSelect = document.getElementById('jenis');
    const inputFields = document.getElementById('inputFields');
    const resultDiv = document.getElementById('result');
    const form = document.getElementById('calcForm');

    function createInput(label, id, type = 'number', step = 'any', min = null, placeholder = '') {
      return `
        <div class="mb-3">
          <label for="${id}" class="form-label">${label}</label>
          <input type="${type}" class="form-control" id="${id}" name="${id}" step="${step}" ${min !== null ? 'min="' + min + '"' : ''} placeholder="${placeholder}" required>
        </div>
      `;
    }

    function showInputs() {
      const jenis = jenisSelect.value;
      let html = '';
      switch (jenis) {
        case 'hambatan':
          html += createInput("Masukkan nilai hambatan R (Ohm)", "R", "number", "any", 0, "Contoh: 10");
          break;
        case 'reaktansi_induktif':
          html += createInput("Masukkan frekuensi f (Hz)", "f", "number", "any", 0, "Contoh: 50");
          html += createInput("Masukkan induktansi L (H)", "L", "number", "any", 0, "Contoh: 0.05");
          break;
        case 'reaktansi_kapasitif':
          html += createInput("Masukkan frekuensi f (Hz)", "f", "number", "any", 0, "Contoh: 50");
          html += createInput("Masukkan kapasitansi C (F)", "C", "number", "any", 0, "Contoh: 0.00001");
          break;
        case 'impedansi':
          html += createInput("Masukkan frekuensi f (Hz)", "f", "number", "any", 0, "Contoh: 50");
          html += createInput("Masukkan hambatan R (Ohm)", "R", "number", "any", 0, "Contoh: 10");
          html += createInput("Masukkan induktansi L (H)", "L", "number", "any", 0, "Contoh: 0.05");
          html += createInput("Masukkan kapasitansi C (F)", "C", "number", "any", 0, "Contoh: 0.00001");
          break;
        case 'sudut_fase':
          html += createInput("Masukkan frekuensi f (Hz)", "f", "number", "any", 0, "Contoh: 50");
          html += createInput("Masukkan hambatan R (Ohm)", "R", "number", "any", 0, "Contoh: 10");
          html += createInput("Masukkan induktansi L (H)", "L", "number", "any", 0, "Contoh: 0.05");
          html += createInput("Masukkan kapasitansi C (F)", "C", "number", "any", 0, "Contoh: 0.00001");
          break;
        case 'arus_maksimum':
          html += createInput("Masukkan Vmax (Volt)", "Vmax", "number", "any", 0, "Contoh: 220");
          html += createInput("Masukkan impedansi Z (Ohm)", "Z", "number", "any", 0, "Contoh: 50");
          break;
        case 'arus_efektif':
          html += createInput("Masukkan Imax (Ampere)", "Imax", "number", "any", 0, "Contoh: 5");
          break;
        case 'daya':
          html += createInput("Masukkan Vrms (Volt)", "Vrms", "number", "any", 0, "Contoh: 220");
          html += createInput("Masukkan Irms (Ampere)", "Irms", "number", "any", 0, "Contoh: 5");
          html += createInput("Masukkan sudut fase φ (derajat)", "phi_deg", "number", "any", 0, "Contoh: 30");
          break;
        case 'visualisasi':
          html += createInput("Masukkan Imax (Ampere)", "Imax", "number", "any", 0, "Contoh: 5");
          html += createInput("Masukkan frekuensi f (Hz)", "f", "number", "any", 0, "Contoh: 50");
          html += createInput("Masukkan sudut fase φ (derajat)", "phi_deg", "number", "any", 0, "Contoh: 30");
          html += `<canvas id="chart" width="560" height="280" class="mt-3"></canvas>`;
          break;
        default:
          html = '<p>Pilih jenis perhitungan yang valid.</p>';
      }
      inputFields.innerHTML = html;
      resultDiv.innerHTML = '';
    }

    jenisSelect.addEventListener('change', showInputs);
    window.onload = showInputs;

    function calculate(event) {
      if (event) event.preventDefault();

      const jenis = jenisSelect.value;
      resultDiv.innerHTML = '';
      if (jenis === 'visualisasi') {
        visualizeACWave();
        return;
      }

      function getNumber(id) {
        const el = document.getElementById(id);
        if (!el) return null;
        let val = parseFloat(el.value);
        if (isNaN(val) || val < 0) {
          throw new Error(`Input ${id} harus angka positif`);
        }
        return val;
      }

      try {
        switch (jenis) {
          case 'hambatan': {
            let R = getNumber('R');
            let I = 1;
            let V = I * R;
            resultDiv.textContent = `V = I × R\nContoh: Jika arus I = 1 A dan R = ${R} Ω, maka tegangan V = ${V.toFixed(2)} V`;
            break;
          }
          case 'reaktansi_induktif': {
            let f = getNumber('f');
            let L = getNumber('L');
            let omega = 2 * Math.PI * f;
            let XL = omega * L;
            resultDiv.textContent = `XL = ωL = 2π × ${f} × ${L} = ${XL.toFixed(2)} Ω`;
            break;
          }
          case 'reaktansi_kapasitif': {
            let f = getNumber('f');
            let C = getNumber('C');
            if (C === 0) throw new Error("Kapasitansi C tidak boleh nol.");
            let omega = 2 * Math.PI * f;
            let XC = 1 / (omega * C);
            resultDiv.textContent = `XC = 1 / (ωC) = 1 / (2π × ${f} × ${C}) = ${XC.toFixed(2)} Ω`;
            break;
          }
          case 'impedansi': {
            let f = getNumber('f');
            let R = getNumber('R');
            let L = getNumber('L');
            let C = getNumber('C');
            let omega = 2 * Math.PI * f;
            let XL = omega * L;
            let XC = C === 0 ? 0 : 1 / (omega * C);
            let Z = Math.sqrt(R ** 2 + (XL - XC) ** 2);
            resultDiv.textContent = `Z = √(R² + (XL - XC)²) = √(${R}² + (${XL.toFixed(2)} - ${XC.toFixed(2)})²) = ${Z.toFixed(2)} Ω\nXL = ${XL.toFixed(2)} Ω, XC = ${XC.toFixed(2)} Ω`;
            break;
          }
          case 'sudut_fase': {
            let f = getNumber('f');
            let R = getNumber('R');
            let L = getNumber('L');
            let C = getNumber('C');
            let omega = 2 * Math.PI * f;
            let XL = omega * L;
            let XC = C === 0 ? 0 : 1 / (omega * C);
            let phi = Math.atan2(XL - XC, R);
            let phi_deg = phi * 180 / Math.PI;
            resultDiv.textContent = `φ = arctan((XL - XC)/R) = arctan((${XL.toFixed(2)} - ${XC.toFixed(2)}) / ${R}) = ${phi_deg.toFixed(2)}°`;
            break;
          }
          case 'arus_maksimum': {
            let Vmax = getNumber('Vmax');
            let Z = getNumber('Z');
            if (Z === 0) throw new Error("Impedansi Z tidak boleh nol.");
            let Imax = Vmax / Z;
            resultDiv.textContent = `Imax = Vmax / Z = ${Vmax} / ${Z} = ${Imax.toFixed(2)} A`;
            break;
          }
          case 'arus_efektif': {
            let Imax = getNumber('Imax');
            let Irms = Imax / Math.sqrt(2);
            resultDiv.textContent = `Irms = Imax / √2 = ${Imax} / 1.414 = ${Irms.toFixed(2)} A`;
            break;
          }
          case 'daya': {
            let Vrms = getNumber('Vrms');
            let Irms = getNumber('Irms');
            let phi_deg = getNumber('phi_deg');
            let phi_rad = phi_deg * Math.PI / 180;
            let P = Vrms * Irms * Math.cos(phi_rad);
            let Q = Vrms * Irms * Math.sin(phi_rad);
            let S = Vrms * Irms;
            resultDiv.textContent = `P (daya aktif) = Vrms × Irms × cos(φ) = ${Vrms} × ${Irms} × cos(${phi_deg}°) = ${P.toFixed(2)} W\n` +
              `Q (daya reaktif) = Vrms × Irms × sin(φ) = ${Vrms} × ${Irms} × sin(${phi_deg}°) = ${Q.toFixed(2)} VAR\n` +
              `S (daya semu) = Vrms × Irms = ${Vrms} × ${Irms} = ${S.toFixed(2)} VA`;
            break;
          }
          default:
            resultDiv.textContent = "Jenis perhitungan tidak didukung.";
        }
      } catch (err) {
        resultDiv.textContent = "Error: " + err.message;
      }
    }

    function visualizeACWave() {
      // Remove existing canvas if any
      const oldCanvas = document.getElementById('chart');
      if (oldCanvas) oldCanvas.remove();

      // Add new canvas
      const canvas = document.createElement('canvas');
      canvas.id = 'chart';
      canvas.width = 560;
      canvas.height = 280;
      canvas.classList.add('mt-3');
      inputFields.appendChild(canvas);
      resultDiv.textContent = '';

      try {
        const Imax = parseFloat(document.getElementById('Imax').value);
        const f = parseFloat(document.getElementById('f').value);
        const phi_deg = parseFloat(document.getElementById('phi_deg').value);

        if (isNaN(Imax) || Imax <= 0) throw new Error('Imax harus angka positif.');
        if (isNaN(f) || f <= 0) throw new Error('Frekuensi f harus angka positif.');
        if (isNaN(phi_deg)) throw new Error('Sudut fase harus angka.');

        const phi_rad = phi_deg * Math.PI / 180;
        const omega = 2 * Math.PI * f;
        const tMax = 1 / f; // satu periode
        const nPoints = 1000;

        const t = [];
        const I_t = [];
        for (let i = 0; i < nPoints; i++) {
          const time = i * (tMax / nPoints);
          t.push(time.toFixed(4));
          I_t.push(Imax * Math.sin(omega * time - phi_rad));
        }

        const ctx = canvas.getContext('2d');

        new Chart(ctx, {
          type: 'line',
          data: {
            labels: t,
            datasets: [{
              label: 'I(t) = Imax × sin(ωt - φ)',
              data: I_t,
              borderColor: '#2575fc',
              backgroundColor: 'rgba(37,117,252,0.2)',
              fill: true,
              tension: 0.3,
              pointRadius: 0,
              borderWidth: 2,
            }]
          },
          options: {
            responsive: true,
            animation: false,
            interaction: {
              intersect: false,
              mode: 'index',
            },
            scales: {
              x: {
                display: true,
                title: {
                  display: true,
                  text: 'Waktu (detik)'
                },
                ticks: { maxTicksLimit: 10 }
              },
              y: {
                display: true,
                title: {
                  display: true,
                  text: 'Arus (Ampere)'
                },
                suggestedMin: -Imax * 1.2,
                suggestedMax: Imax * 1.2,
              }
            },
            plugins: {
              legend: {
                display: true,
                position: 'top',
              }
            }
          }
        });

        resultDiv.textContent = "Visualisasi gelombang arus AC selama satu periode.";
      } catch (err) {
        resultDiv.textContent = "Error: " + err.message;
      }
    }

    form.addEventListener('submit', calculate);

    document.addEventListener('DOMContentLoaded', function() {
      const themeToggle = document.getElementById('theme-toggle');
      const sunIcon = document.getElementById('sun-icon');
      const moonIcon = document.getElementById('moon-icon');
      const themeText = document.getElementById('theme-text');
      const htmlElement = document.documentElement;
      
      // Check for saved theme preference or use default
      const savedTheme = localStorage.getItem('theme') || 'light';
      htmlElement.setAttribute('data-bs-theme', savedTheme);
      
      // Update button appearance based on current theme
      updateThemeButton(savedTheme);
      
      // Toggle theme on button click
      themeToggle.addEventListener('click', function() {
        const currentTheme = htmlElement.getAttribute('data-bs-theme');
        const newTheme = currentTheme === 'light' ? 'dark' : 'light';
        
        htmlElement.setAttribute('data-bs-theme', newTheme);
        localStorage.setItem('theme', newTheme);
        
        updateThemeButton(newTheme);
      });
      
      // Function to update button text and icon
      function updateThemeButton(theme) {
        if (theme === 'light') {
          sunIcon.classList.add('d-none');
          moonIcon.classList.remove('d-none');
          themeText.textContent = 'Dark Mode';
        } else {
          sunIcon.classList.remove('d-none');
          moonIcon.classList.add('d-none');
          themeText.textContent = 'Light Mode';
        }
      }
    });
  </script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</body>

</html>

